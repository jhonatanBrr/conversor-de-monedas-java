¿Cómo lo resolví?
Creé una clase ConsultarCambio que básicamente hace una petición a la API exchangerate-api. Recibe el base_code, que es la moneda que se va a cambiar, el target_code, que es la moneda a la que se va a convertir, y el amount, que es el monto a cambiar. Luego, la respuesta la transformo a una clase con Gson de tipo Cambio, que es un record que creé con los parámetros base_code, target_code, conversion_rate, conversion_result.
Como las opciones de conversión están limitadas a 6 y la API exchangerate-api recibe el base_code y target_code, decidí crear una clase llamada Conversiones. En el constructor de esta clase inicializo un HashMap que contiene como clave el número de las opciones disponibles, y cada clave tiene como valor un ArrayList de dos elementos [base_code, target_code], que creé con List.of() ya que es más eficiente para listas pequeñas y estáticas. También creé un método para obtener los valores a través de la clave.
Creé una clase llamada ManejoDeHistorial que se encarga, a través de la clase FileWriter, de crear un archivo JSON con mi historial de cambios. Ese historial se guarda como un array de Strings. Por cierto, uso Gson con su método setPrettyPrinting() para darle formato al array.
En la clase Main, dentro de un bucle while, coloqué el menú y validé que la opción seleccionada por el usuario esté dentro del rango permitido. Aquí conocí la palabra reservada continue, la cual hace que el ciclo pase a la siguiente iteración en caso de que el usuario ingrese una opción que no existe en el menú. Si la opción está dentro del rango permitido, obtengo de la clase Conversiones el [base_code, target_code], y a través de la entrada de texto con la clase Scanner, obtengo el amount. Formulo la petición y obtengo la conversión, luego la imprimo a mi gusto, ya que modifiqué el método toString de la clase Cambio. Al final, guardo mi historial con la clase ManejoDeHistorial.
